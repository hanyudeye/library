<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>

    <h1>hello,jQuery and ajax</h1>

    <img src="" alt="" srcset="" id="img">


    <script>
        // 随机获取一张猫的图片
        // https://api.thecatapi.com/v1/images/search
        let url = "https://api.thecatapi.com/v1/images/search";

        $.ajax({

            url: url,
            // type: 'GET' or 'POST', // 请求方法，默认为GET
            type: 'GET', // 请求方法，默认为GET
            data: {}, // 发送到服务器的数据（可选）
            dataType: 'json', // 服务器响应的数据类型（如json, xml, text等）
            success: function (response) {
                // 请求成功后的回调函数
                console.log(response)

                
                if(response[0]){
                    $('#img').attr("src",response[0].url)
                }
            },
            error: function (xhr, status, error) {
                // 请求失败时的回调函数
            },
            complete: function (xhr, status) {
                // 请求完成后的回调函数（无论成功还是失败）
            }
        });
    </script>

</body>

</html>